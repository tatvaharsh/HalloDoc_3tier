@model hallodoc_mvc_Repository.ViewModel.RoleModel
@{
    Layout = ViewBag.Layout;
}
<Partial name="_Toast" />
<div class="backdrop" id="backdrop" style="z-index:140"></div>
<div id="loader-container" class="vh-100 align-items-center justify-content-center" style="z-index:150">

    <div class="loader" style="z-index:150"></div>

</div>
<div class="container p-0">
    <div class="row">
        <div class="col-12">
            <div class="d-flex justify-content-between mt-3">
                <h4 class="mt-3">Account Access</h4>
            </div>
        </div>
    </div>
</div>
<div class="container hideonmobile  rounded shadow mt-3 p-0">
    <div class="row pt-3 ps-2 pb-3">
        <div class="col text-end">

            <a asp-action="CreateRole" asp-controller="Admin" class="btn btn-info text-white me-3" style="border-color: #54d4d3; color: #54d4d3;">
                <span class="d-none d-md-inline">Create Access</span>
                <span class="d-md-none"><i class="fa-solid fa-plus" style="color: white;"></i></span>
            </a>
        </div>
    </div>
    <table class="table d-md-table d-none">
        <thead>
            <tr class="bg-light text-muted h-100">
                <th scope="col">Name</th>
                <th scope="col">Account Type</th>
                <th scope="col">Actions</th>
            </tr>
        </thead>
       <tbody class="text-muted">
            @foreach(var item in Model.rolesofphy)
            {
                <tr>
                    <td>
                        @item.Name
                    </td>
                    <td>
                        @switch (item.AccountType)
                        {
                            case 1:
                            <span>Admin</span>

                                break;
                            case 2:
                            <span>
                                Physician
                            </span>
                                break;
                            case 3:
                            <span>
                                Patient
                            </span>
                                break;
                        }
                    </td>
                    <td>
                        <a asp-action="EditRole" asp-controller="Admin" asp-route-id="@item.RoleId"><button type="button" class="btn btn-outline-info">Edit</button></a>
                        <a asp-action="DeleteRole" asp-controller="Admin" asp-route-id="@item.RoleId" class="btn btn-outline-info">Delete</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
    <div class="d-md-none border-bottom">

        @foreach (var item in Model.rolesofphy)
        {
            <div class="border-bottom px-2" id="accordiancolor">

                <div class="my-2">
                    <div class="my-1">Name: <strong>@item.Name</strong></div>
                    <div class="my-1">
                        Account Type:
                        @if (item.AccountType == 1)
                        {
                            <span>Admin</span>
                        }
                        else if (item.AccountType == 2)
                        {
                            <span>Physician</span>
                        }
                        else
                        {
                            <span>Patient</span>
                        }
                    </div>
                    <div class="my-1">
                        <a class="btn btn-white text-info border-info bg-transparent" asp-action="EditRole" asp-route-id="@item.RoleId">Edit</a>
                        <a class="btn btn-white text-info border-info bg-transparent" asp-action="DeleteRole" asp-route-id="@item.RoleId">Delete</a>
                    </div>
                </div>
            </div>
        }

    </div>
</div>
<style>

    .nav-underline .nav-link.active {
        color: #5bc0de !important;
    }

</style>
<script>
    document.getElementById("Access-tab").classList.add("active");
    document.getElementById("account").classList.add("active");
    document.getElementById("Access-tab").setAttribute('aria-expanded', true);
</script>