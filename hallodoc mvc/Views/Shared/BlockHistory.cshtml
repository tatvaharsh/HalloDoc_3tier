@{
    ViewData["Title"] = "Block History";
    Layout = ViewBag.Layout;

}
<div class="backdrop" id="backdrop" style="z-index:140"></div>
<div id="loader-container" class="vh-100 align-items-center justify-content-center" style="z-index:150">

    <div class="loader" style="z-index:150"></div>

</div>
<div class="mx-5 my-3 p-2">

    <div class=" row  mb-4 ">
        <div class="col-sm-10 col">
            <span class="h2">Block History</span>
        </div>

    </div>
    <div class="rounded p-4 boxshadow mb-5 ">
        <form>
            <div class="row">

                <div class="col-sm-12 col-md-6 col-xl-3 form-floating mb-3 text-muted">
                    <input name="PatientName" type="text" class="form-control mb-2" onkeyup="BusinessTable()" id="PatientName" placeholder="Patient Name">
                    <label for="PatientName" class="form-label ms-2">Patient Name</label>
                </div>

                <div class="col-sm-12 col-md-6 col-xl-3 form-floating mb-3 text-muted">
                    <input name="date" type="date" class="form-control mb-2" onkeyup="BusinessTable()" id="date" placeholder="date">
                    <label for="date" class="form-label ms-2">Date</label>
                </div>
                <div class="col-sm-12 col-md-6 col-xl-3 form-floating mb-3 text-muted">
                    <input name="Email" type="text" class="form-control mb-2" onkeyup="BusinessTable()" id="Email" placeholder="Email">
                    <label for="Email" class="form-label ms-2">Email</label>
                </div>
                <div class="col-sm-12 col-md-6 col-xl-3 form-floating mb-3 text-muted">
                    <input name="PhoneNumber" type="text" class="form-control mb-2" onkeyup="BusinessTable()" id="PhoneNumber" placeholder="PhoneNumber">
                    <label for="PhoneNumber" class="form-label ms-2">Phone Number</label>
                </div>


            </div>
            
                <div class="col text-end">
                    <button class="btn btn-outline-info me-2" type="reset">Clear</button>
                    <button class=" btn btn-info text-white" onclick="BusinessTable()">Search</button>
                </div>
        </form>

    </div>
    <div id="tableContent"></div>
</div>



<script>

    $(document).ready(function () {

        // var profid = document.getElementById("SelectedProfessionId").value
        // var searchstr = document.getElementById("searchstr").value
        $.ajax({
            url: "/Admin/_BlockHistoryTable",
            // data: { profid: profid, searchstr: searchstr },
            type: "POST",
            success: function (result) {
                $("#tableContent").html(result)
            },
            error: function () {
                alert("An error occured!");

            }
        });
    });
    function BusinessTable(element) {


        var searchstr = document.getElementById("PatientName").value
        var date = document.getElementById("date").value
        var email = document.getElementById("Email").value
        var mobile = document.getElementById("PhoneNumber").value
        // var id = element.value;

        $.ajax({
            url: "/Admin/_BlockHistoryTable",
            data: { searchstr: searchstr, date: date, email: email, mobile: mobile },
            type: "POST",
            success: function (result) {
                $("#tableContent").html(result)
            },
            error: function () {
                alert("An error occured!");

            }
        });
    };



</script>

